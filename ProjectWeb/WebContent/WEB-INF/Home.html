<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>App Home</title>
<link rel="stylesheet" type="text/css" media="all"
	href="../CSS/mystyle.css" th:href="@{/css/mystyle.css}" />
</head>
<body>


	<h1>Welcome to the Home Page</h1>
	<div th:if="${questionnaire!=null }">
		<form action="GoToQuestionnaire" method="get">
			<span th:text="'Product ' + ${questionnaire.product}"> </span> 
			<span th:text="'Image' + ${questionnaire.img}"></span> 	
			<img width="100px" alt="thumb"
				th:src="*{'data:image/png;base64,'+ questionnaire.getImg()}"> 
	
			<input type="hidden" name="productId" th:value="${questionnaire.id}">
			<input type="submit" value="go to questionnaire">
		</form>
	</div>
	

	<h3 th:if="${reviews!=null }">User reviews</h3>

	
		<!-- <table th:if="${reviews!=null }">
			<thead>
				<tr><th>User</th><th>Age</th><th>Sex</th><th>Level</th></tr>
			</thead>
			<tbody>
				<tr th:each="r : ${reviews}">
					<td th:text="${r.user.id }"></td>
					<td th:text="${r.age }"></td>
					<td th:text="${r.sex }"></td>
					<td th:text="${r.level }"></td>
					<td th:text="${r.answers.get(0) }"></td>
				</tr>
			</tbody>
		</table> -->
		
	<div align="center">
		<a th:href="@{/GoToLeaderboard}">Go to Leaderboard Page</a>
	</div>
	
	<!-- GESTIRE EACH DI EACH <div th:fragment="list(review)">

		<ul th:unless="${#lists.isEmpty(reviews)}">

			<li th:each="a : ${review.answers}"><span
				th:text="${a.getQuestion().id + ' Answer: ' +    a.getText()}"></span>
		</ul>
	</div> 
	
	
	FORSE QUESTO POTREBBE FUNZIONARE MA VA TESTATO
	<table th:if="${reviews!=null}">
    <span th:each="r : ${reviews}">
        <td>
            <tr th:each="answer: ${r.answers}">
                <p th:text="${answer.question}"></p>
            </tr>
        <td>
    </span>
	</table>-->
	
	
</body>
</html>